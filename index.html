<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wuthering Waves Echo Strategy</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; background-color: #f7f7f7; }
        h1, h2 { color: #333; border-bottom: 2px solid #ccc; padding-bottom: 5px; margin-top: 30px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; background-color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; vertical-align: top; }
        th { background-color: #e9e9e9; font-weight: bold; }
        .strategy-lock { background-color: #d4edda; color: #155724; font-weight: 600; } /* Green - Auto Lock */
        .strategy-keep { background-color: #fff3cd; color: #856404; font-weight: 600; } /* Yellow - Manual Keep */
        .strategy-trash { background-color: #f8d7da; color: #721c24; font-weight: 600; } /* Red - Auto Trash */
        .priority-list { list-style-type: none; padding: 0; }
        .priority-list li { margin-bottom: 5px; }
        .priority-MAIN { color: #007bff; font-weight: bold; }
        .priority-SIDE { color: #ffc107; }
        .priority-BENCH { color: #6c757d; }
        .priority-GRADUATED { color: #3c8025; }
        .version-select { padding: 8px; font-size: 1rem; border-radius: 4px; cursor: pointer; }
        .version-select-clear { cursor: pointer; }
        .crossed-text { text-decoration: line-through 2px; }
        .rainbow-text { background: linear-gradient(to right, red, orange, green, blue, indigo, violet); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .priority-change { margin-left: 1em; }
        .sonata-card { display: inline-block; padding: 5px 10px; margin: 2px; border: 1px solid; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .dashed-sonata-card { color: #6c757d; display: inline-block; padding: 5px 10px; margin: 2px; border: 1px dashed; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    </style>
</head>

<body>
    <h1>ðŸ”Š Wuthering Waves Echo Management Strategy (<span id="current-version-name">Loading...</span>) </h1>
    
    <div class="version-container">
        <label for="version-select" class="version-select">ðŸ”Š Current Version:</label>
        <select id="version-select" class="version-select"></select>
        <label for="version-base-select" class="version-select">ðŸ”ˆ Delta from Version:</label>
        <select id="version-base-select" class="version-select"></select>
        <span onclick="clearVersionBaseSelect()" class="version-select-clear">ðŸ”„</span>
    </div>
    
    <hr>

    <div id="main-display-container">
        <h2>Character Priority Status</h2>
        <p>Your current strategy is driven by the following priorities:</p>
        <ul id="priority-list" class="priority-list">Loading priorities...</ul>

        <hr>

        <h2>1. Stat-Centric Strategy (Auto-Lock/Keep/Trash)</h2>
        <p>This is the most critical view for bulk inventory management. Find the Echo's main stat (e.g., `3C-FUSION`), and the strategy for every Sonata set is listed.</p>
        <table id="stat-centric-table">
            <thead>
                <tr>
                    <th>Cost / Stat</th>
                    <th class="strategy-lock">ðŸŸ¢ AUTO-LOCK (MAIN Priority Character needs it)</th>
                    <th class="strategy-keep">ðŸŸ¡ KEEP (SIDE needs it; or MAIN needs it with KEEP strategy as replacement)</th>
                    <th class="strategy-trash">ðŸ”´ AUTO-TRASH (Only BENCH/GRADUATED need it, or unused)</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>

        <hr>

        <h2>2. Sonata-Centric Strategy (Reference View)</h2>
        <p>This view shows all required stats for a given Sonata set, based on your entire roster.</p>
        <table id="sonata-centric-table">
            <thead>
                <tr>
                    <th>Sonata Set</th>
                    <th>Required Echo Stats</th>
                    <th>Highest Priority Requiring Character(s)</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <script src="script.js"></script>
</body>
</html>